<style>
    /* --- ESTILOS GERAIS E UTILITÁRIOS --- */
    body { font-family: 'Inter', sans-serif; background-color: #f3f4f6; }
    
    /* Estado Ativo do Menu */
    .tab-active { 
        background-color: #eff6ff !important; 
        color: #1e40af !important; 
        border-right: 4px solid #1e40af;
    }

    /* Utilitário para esconder seções */
    .hidden-section { display: none !important; }

    /* Ajuste para input de data/mês no Chrome */
    input[type="month"] { position: relative; }
    input[type="month"]::-webkit-calendar-picker-indicator { cursor: pointer; filter: invert(1); }

    /* Barra de Rolagem Personalizada (Custom Scrollbar) */
    .custom-scrollbar::-webkit-scrollbar { width: 6px; height: 6px; }
    .custom-scrollbar::-webkit-scrollbar-track { background: #f1f1f1; }
    .custom-scrollbar::-webkit-scrollbar-thumb { background: #c7c7c7; border-radius: 3px; }
    .custom-scrollbar::-webkit-scrollbar-thumb:hover { background: #a0a0a0; }

    /* --- COMPONENTES VISUAIS --- */

    /* Loading Overlay */
    #loadingOverlay { z-index: 60; }
    .loader {
        border: 4px solid #f3f3f3;
        border-top: 4px solid #3498db;
        border-radius: 50%;
        width: 40px; height: 40px;
        animation: spin 1s linear infinite;
    }
    @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

    /* Toast Notification */
    #toast {
        visibility: hidden; min-width: 250px; background-color: #333; color: #fff;
        text-align: center; border-radius: 8px; padding: 16px; position: fixed; z-index: 80;
        left: 50%; top: 30px; transform: translateX(-50%); font-size: 14px;
        box-shadow: 0 4px 6px rgba(0,0,0,0.1); opacity: 0; transition: opacity 0.3s, top 0.3s;
    }
    #toast.show { visibility: visible; opacity: 1; top: 50px; }
    #toast.success { background-color: #10B981; } /* Verde */
    #toast.error { background-color: #EF4444; }   /* Vermelho */

    /* Switch Toggle (Botão de Pagar) */
    .switch { position: relative; display: inline-block; width: 44px; height: 24px; }
    .switch input { opacity: 0; width: 0; height: 0; }
    .slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: #ccc; transition: .4s; border-radius: 24px; }
    .slider:before { position: absolute; content: ""; height: 18px; width: 18px; left: 3px; bottom: 3px; background-color: white; transition: .4s; border-radius: 50%; }
    input:checked + .slider { background-color: #10B981; }
    input:focus + .slider { box-shadow: 0 0 1px #10B981; }
    input:checked + .slider:before { transform: translateX(20px); }
    .switch-label { margin-left: 10px; font-size: 0.75rem; font-weight: bold; color: #6B7280; }
    input:checked ~ .switch-label { color: #10B981; }

    /* Login Screen */
    #login-screen { z-index: 100; position: fixed; inset: 0; background-color: #1e3a8a; display: flex; align-items: center; justify-content: center; }

    /* Animação de Destaque (Linhas da Tabela) */
    @keyframes highlight-yellow {
        0% { background-color: #fef08a; transform: scale(1.02); box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1); }
        50% { background-color: #fef08a; transform: scale(1.02); }
        100% { background-color: transparent; transform: scale(1); box-shadow: none; }
    }
    .highlight-row {
        animation: highlight-yellow 3s ease-out forwards;
        position: relative;
        z-index: 10;
    }

    /* --- ESTILOS DE DOCUMENTO PDF (CARTA MARGEM) --- */
    
    /* Configuração da "Folha de Papel" na tela */
    .a4-paper {
        width: 210mm;
        min-height: 297mm;
        background: white;
        margin: 0 auto;
        padding: 20mm 15mm; /* Margens padrão A4 */
        box-shadow: 0 0 15px rgba(0,0,0,0.1);
        position: relative;
        color: #000;
        font-family: 'Times New Roman', Times, serif; /* Fonte Clássica de Documento */
    }

    /* Elementos Internos do Documento */
    .doc-header { text-align: center; margin-bottom: 2rem; border-bottom: 2px solid #000; padding-bottom: 10px; }
    .doc-logo-area { font-weight: bold; text-transform: uppercase; font-size: 14pt; }
    .doc-title { text-align: center; font-weight: bold; text-transform: uppercase; font-size: 16pt; margin: 2rem 0; text-decoration: underline; }
    
    .doc-body { 
        font-size: 12pt; 
        line-height: 1.6; 
        text-align: justify; 
        margin-bottom: 2rem; 
    }
    
    .doc-signature {
        margin-top: 3cm;
        text-align: center;
        page-break-inside: avoid;
    }
    .line-signature { 
        border-top: 1px solid #000; 
        width: 60%; 
        margin: 0 auto 10px auto; 
    }

    .doc-footer {
        position: absolute;
        bottom: 15mm;
        left: 0;
        width: 100%;
        text-align: center;
        font-size: 9pt;
        color: #444;
        border-top: 1px solid #ccc;
        padding-top: 5px;
    }

    /* --- CONFIGURAÇÃO DE IMPRESSÃO (CRÍTICO) --- */
    @media print {
        @page { 
            size: A4; 
            margin: 0; /* Remove margens do navegador para usarmos as nossas */
        }
        
        body { 
            background: white; 
            margin: 0; 
            padding: 0; 
            overflow: visible !important; /* Permite scroll na impressão se necessário */
        }

        /* Esconde TUDO que não é o documento */
        aside, #loadingOverlay, #toast, #login-screen, .no-print, header, nav, #btn-imprimir-flutuante, #sistema-wrapper { 
            display: none !important; 
        }

        /* Esconde todas as Views exceto a área de impressão */
        #mainContent > div { display: none !important; }
        
        /* Mostra e formata a área de impressão */
        #print-area {
            display: block !important;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: auto;
            z-index: 9999;
            background: white;
        }

        /* Remove a sombra do papel na impressão */
        .a4-paper {
            box-shadow: none;
            margin: 0;
            width: 100%;
            min-height: auto; /* Deixa altura automática */
            padding: 20mm 15mm !important; /* Força margem interna na impressão */
        }
    }
</style>
